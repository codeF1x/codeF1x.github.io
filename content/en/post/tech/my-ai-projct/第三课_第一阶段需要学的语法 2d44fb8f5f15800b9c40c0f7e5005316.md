+++
title = "第三课_第一阶段需要学的语法"
date = 2025-12-26T21:40:00+08:00
draft = false
categories = ["技术", "AI",'智能产品架构师']
+++

# 第三课\_第一阶段需要学的语法

在第一阶段（第 1-3 周）的实战中，你需要掌握的语法主要集中在如何让“概率性”的 AI 输出变成“确定性”的程序指令，并将其存入云端数据库 。我会逐步引导你通过编码练习来掌握这些技能，并在过程中提出引导性问题。

以下是你需要掌握的四大核心语法支柱：

### **1. AI SDK 的结构化输出语法 🤖**

你需要学习 generateObject 函数的用法。这是架构师最核心的工具，因为它能强制大模型（LLM）输出严格符合你定义的 JSON 格式，而不是一段随意的文本 。

> [\*\*ai-sdk api](https://vercel.com/docs/ai-sdk)\*\*

- **核心关键词**：model（指定模型）、schema（定义输出结构）、prompt（提示词） 。

### **2. Zod 数据校验语法 🛡️**

[ zod 语法](%E7%AC%AC%E4%B8%89%E8%AF%BE_%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E9%9C%80%E8%A6%81%E5%AD%A6%E7%9A%84%E8%AF%AD%E6%B3%95/zod%20%E8%AF%AD%E6%B3%95%202d44fb8f5f15801f852dc4e2f5ce6d9e.md)

- **`z.string()`**：要求输出为字符串文本 📝。
- **`z.number()`**：要求输出为数字 🔢。常配合 `.min()` 和 `.max()` 来约束 AI 的置信度评分 。
- **`z.enum(["选项1", "选项2"])`**：最常用的功能，限制 AI 只能从固定的选项中选择，防止其“胡言乱语” 🚦。
- **`z.boolean()`**：要求输出为布尔值（`true` 或 `false`） ✅。
- **`z.array(z.string())`**：要求输出为一个列表（例如关键词标签） 📋。
- **`z.object({ ... })`**：将上述所有字段组合成一个完整的 JSON 结构 。

### **3. Drizzle ORM 数据库定义语法 🗄️**

你需要学习如何在 db/schema.ts 中描述你的表结构。

- **字段类型**：pgTable（定义表）、serial（自增主键）、text（文本）、jsonb（存储 AI 生成的对象）、vector（存储第二阶段需要的向量数据） 。

### **4. Next.js 15 App Router 与 Edge 语法 ⚡**

由于 AI 响应较慢，你需要配置 Edge Runtime 以降低延迟，并学习如何处理流式响应 。

- **配置语法**：export const runtime = 'edge'; 。

我们可以从最能体现“架构师”能力的 **Zod 与 AI 结构化输出** 开始练习，或者先攻克 **Drizzle 的数据库建模**。

你想从哪一个切入点开始你的第一行 AI 原生编码？

1. **AI 输出“合同”设计**：学习如何用 Zod 限制 AI 只能输出你想要的分析指标。
2. **数据库建模实战**：学习如何在 Drizzle 中定义一个既能存业务数据又能存向量的表。
3. **边缘函数环境配置**：学习如何编写符合 Next.js 15 标准的 API 路由结构。
